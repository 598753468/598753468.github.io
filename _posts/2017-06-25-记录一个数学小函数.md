---
title: 记录一个数学小函数
date: 2017-06-25 10:27:00+0800
categories:
- 数学
tags:
- 数学
- 周期函数
- 光滑
layout: post
summary: 一个光滑的、可调整变化速度的周期函数
thumbnail: pencil
---
事情的起因是我希望把一个图片转成灰度图，不是按照亮度而是按照**[色相](https://zh.wikipedia.org/wiki/%E8%89%B2%E7%9B%B8) **(hue)。在OpenCV中，用一个字节（unsigned char）中的0到180表示色相中的0°到360°。这样把黄色（30）转为0，把蓝色（120）转为255，中间的也一一映射过去就可以转为灰度图了。而且黄色对应黑色，蓝色对应白色。

最简单的方式就是线性拉伸再平移
$$f(x)=\left\{\begin{matrix}
\frac{255}{90}(x-30) & 30<x<120 \\ 
\frac{255}{90}(30-x) & 0<x\leqslant30 或120\leqslant x\leqslant180
\end{matrix}\right.$$
但是我还有另一个需求，就是希望黄色和蓝色不要被拉伸的太厉害，或者说，希望黄色部分在灰度图中黑得差不多，蓝色部分在灰度图中白的差不多。